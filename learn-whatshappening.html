<!DOCTYPE html>
<html>
<head>
    <title>InstaLocate</title>
    <link rel="shortcut icon" type="image/png" href="images/favicon.ico"/>
    
    <link rel="stylesheet" href="bootstrap-4.1.3-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="fontawesome-free-5.8.1-web/css/all.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="main.css" type="text/css" />
    <script src="jquery-3.3.1.min.js"></script>
    <script src="bootstrap-4.1.3-dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="Winwheel.js"></script>
    <script src="TweenMax.min.js"></script>
    <script src="script.js"></script>
    <style>
    

.wrapper, .container {
    height: 700px;
}
    .container{max-width:1170px; margin:auto;}
img{ max-width:100%;}
.inbox_people {
  background: #f8f8f8 none repeat scroll 0 0;
  float: left;
  overflow: hidden;
  width: 40%; border-right:1px solid #c4c4c4;
}
.inbox_msg {
  border: 1px solid #c4c4c4;
  clear: both;
  overflow: hidden;
}
.top_spac{ margin: 20px 0 0;}


.recent_heading {float: left; width:40%;}
.srch_bar {
  display: inline-block;
  text-align: right;
  width: 60%;
}
.headind_srch{ padding:10px 29px 10px 20px; overflow:hidden; border-bottom:1px solid #c4c4c4;}

.recent_heading h4 {
  color: #05728f;
  font-size: 21px;
  margin: auto;
}
.srch_bar input{ border:1px solid #cdcdcd; border-width:0 0 1px 0; width:80%; padding:2px 0 4px 6px; background:none;}
.srch_bar .input-group-addon button {
  background: rgba(0, 0, 0, 0) none repeat scroll 0 0;
  border: medium none;
  padding: 0;
  color: #707070;
  font-size: 18px;
}
.srch_bar .input-group-addon { margin: 0 0 0 -27px;}

.chat_ib h5{ font-size:15px; color:#464646; margin:0 0 8px 0;}
.chat_ib h5 span{ font-size:13px; float:right;}
.chat_ib p{ font-size:14px; color:#989898; margin:auto}
.chat_img {
  float: left;
  width: 11%;
}
.chat_ib {
  float: left;
  padding: 0 0 0 15px;
  width: 88%;
}

.chat_people{ overflow:hidden; clear:both;}
.chat_list {
  border-bottom: 1px solid #c4c4c4;
  margin: 0;
  padding: 18px 16px 10px;
}
.inbox_chat { height: 550px; overflow-y: scroll;}

.active_chat{ background:#ebebeb;}

.incoming_msg_img {
  display: inline-block;
  width: 6%;
}
.received_msg {
  display: inline-block;
  padding: 0 0 0 10px;
  vertical-align: top;
  width: 92%;
 }
 .received_withd_msg p {
  background: #ebebeb none repeat scroll 0 0;
  border-radius: 3px;
  color: #646464;
  font-size: 14px;
  margin: 0;
  padding: 5px 10px 5px 12px;
  width: 100%;
}
.time_date {
  color: #747474;
  display: block;
  font-size: 12px;
  margin: 8px 0 0;
}
.received_withd_msg { width: 57%;}
.mesgs {
  float: left;
  padding: 30px 15px 0 25px;
  width: 60%;
}

 .sent_msg p {
  background: #05728f none repeat scroll 0 0;
  border-radius: 3px;
  font-size: 14px;
  margin: 0; color:#fff;
  padding: 5px 10px 5px 12px;
  width:100%;
}
.outgoing_msg{ overflow:hidden; margin:26px 0 26px;}
.sent_msg {
  float: right;
  width: 46%;
}
.input_msg_write input {
  background: rgba(0, 0, 0, 0) none repeat scroll 0 0;
  border: medium none;
  color: #4c4c4c;
  font-size: 15px;
  min-height: 48px;
  width: 100%;
}

.type_msg {border-top: 1px solid #c4c4c4;position: relative;}
.msg_send_btn {
  background: #05728f none repeat scroll 0 0;
  border: medium none;
  border-radius: 50%;
  color: #fff;
  cursor: pointer;
  font-size: 17px;
  height: 33px;
  position: absolute;
  right: 0;
  top: 11px;
  width: 33px;
}
.messaging { padding: 0 0 50px 0;}
.msg_history {
  height: 516px;
  overflow-y: auto;
}
    </style>
</head>
<body>
<div class="wrapper">
        <div class="container app-container">
            <div class="navbar navbar-expand-sm "> 
                <div class="nav-link-left" onclick="javascript:window.location.href='index.html'">
                        <img src="images/instaLocateTransparentLogo.png" class="logo">
                </div>
                <div class="float-right nav-link-right">
                    <a class="nav-link float-right" href="login.html">Login</a>
                    <a class="nav-link float-right" href="register.html">Register</a>
                </div>
            </div>
            <nav class="navbar navbar-expand-sm bg-light app-navbar"> 
                <a class="nav-link" href="product-locator.html">Find Products</a>
                <a class="nav-link" href="recipeLocator.html">Search by recipe</a>
                <a class="nav-link" href="shop.html">Shop Online</a>
                <a class="nav-link" href="shoppingList.html">Create Shopping List</a>
                <a class="nav-link" href="trackSteps.html">Track steps</a>
                <a class="nav-link active" href="#">Learn what's happening</a>
            </nav>
            
                <div align="center" class="spin-wheel">
                    <h2>Event of the day:</h2>
            <h3 class="spin-title">Spin and Win<span><img class="settings" id="myBtn" src="settings.png" alt="settings" /></span></h3>
            <table cellpadding="0" cellspacing="0" border="0">
                <tr>
                    <td>
                        <div class="power_controls">
                            <br />
                            <img id="spin_button" src="spin_on.png" alt="Spin" onClick="startSpin();" />
                            <br /><br />
                            &nbsp;&nbsp;<a href="#" onClick="resetWheel(); return false;">Reset</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </div>
                    </td>
                    <td width="500" height="500" align="center" valign="center" id="canvasContainer">
                        <canvas id="canvas" width="500" height="500">
                            <p style="color: white" align="center">Sorry, your browser doesn't support canvas. Please try another.</p>
                        </canvas>
                        <img id="prizePointer" src="arrow.png" alt="V" />
                    </td>

                </tr>
            </table>
        </div>
        <div id="myModal" class="modal">

            <!-- Modal content -->
            <div class="modal-content">
                <span class="close">&times;</span>
                <div id="form">
                    <label>Enter secret code:</label>
                    <input type="text" id="code" placeholder="code">
                    <button id="submit" onclick="submitCode()">Submit</button>
                    <span class="error" id="error">Incorrect code!</span>
                </div>
                <div id="settings-div">
                    <table class="settings-table">
                        <tr>
                            <th>Title</th>
                            <th>ON</th>
                            <th>OFF</th>
                        </tr>
                        <tr>
                            <td>Prize 1</td>
                            <td><input type="radio" name="prize1" value="ON"></td>
                            <td><input type="radio" name="prize1" value="OFF" checked></td>
                        </tr>
                        <tr>
                            <td>Prize 2</td>
                            <td><input type="radio" name="prize2" value="ON"></td>
                            <td><input type="radio" name="prize2" value="OFF" checked></td>
                        </tr>
                        <tr>
                            <td>Prize 3</td>
                            <td><input type="radio" name="prize3" value="ON"></td>
                            <td><input type="radio" name="prize3" value="OFF" checked></td>
                        </tr>
                        <tr>
                            <td>Prize 4</td>
                            <td><input type="radio" name="prize4" value="ON"></td>
                            <td><input type="radio" name="prize4" value="OFF" checked></td>
                        </tr>
                        <tr>
                            <td>Prize 5</td>
                            <td><input type="radio" name="prize5" value="ON"></td>
                            <td><input type="radio" name="prize5" value="OFF" checked></td>
                        </tr>
                        <tr>
                            <td>Prize 6</td>
                            <td><input type="radio" name="prize6" value="ON"></td>
                            <td><input type="radio" name="prize6" value="OFF" checked></td>
                        </tr>
                        <tr>
                            <td>Prize 7</td>
                            <td><input type="radio" name="prize7" value="ON"></td>
                            <td><input type="radio" name="prize7" value="OFF" checked></td>
                        </tr>
                        <tr>
                            <td>Prize 8</td>
                            <td><input type="radio" name="prize8" value="ON"></td>
                            <td><input type="radio" name="prize8" value="OFF" checked></td>
                        </tr>
                        <tr>
                            <td>Prize 9</td>
                            <td><input type="radio" name="prize9" value="ON" checked></td>
                            <td><input type="radio" name="prize9" value="OFF"></td>
                        </tr>
                    </table>

                </div>
            </div>

        </div>
        <div class="container">
            <h3 class=" text-center">Messaging</h3>
            <div class="messaging">
                  <div class="inbox_msg">
                    <div class="inbox_people">
                      <div class="headind_srch">
                        <div class="recent_heading">
                          <h4>Recent</h4>
                        </div>
                        <div class="srch_bar">
                          <div class="stylish-input-group">
                            <input type="text" class="search-bar"  placeholder="Search" >
                            <span class="input-group-addon">
                            <button type="button"> <i class="fa fa-search" aria-hidden="true"></i> </button>
                            </span> </div>
                        </div>
                      </div>
                      <div class="inbox_chat">
                        <div class="chat_list active_chat">
                          <div class="chat_people">
                            <div class="chat_img"> <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> </div>
                            <div class="chat_ib">
                              <h5>Nikitha Ameda <span class="chat_date">Dec 25</span></h5>
                              <p>InstaLocate is always improving.</p>
                            </div>
                          </div>
                        </div>
                        <div class="chat_list">
                          <div class="chat_people">
                            <div class="chat_img"> <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> </div>
                            <div class="chat_ib">
                              <h5>John Doe <span class="chat_date">Dec 25</span></h5>
                              <p>InstaLocate is the best indoor application.</p>
                            </div>
                          </div>
                        </div>
                        <div class="chat_list">
                          <div class="chat_people">
                            <div class="chat_img"> <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> </div>
                            <div class="chat_ib">
                              <h5>Rob <span class="chat_date">Dec 25</span></h5>
                              <p>InstaLocate is a new approach to have all solutions 
                                 under one roof.</p>
                            </div>
                          </div>
                        </div>
                        <div class="chat_list">
                          <div class="chat_people">
                            <div class="chat_img"> <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> </div>
                            <div class="chat_ib">
                              <h5>Grocers <span class="chat_date">Dec 25</span></h5>
                              <p>Test, which is a new approach to have all solutions 
                                 under one roof.</p>
                            </div>
                          </div>
                        </div>
                        <div class="chat_list">
                          <div class="chat_people">
                            <div class="chat_img"> <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> </div>
                            <div class="chat_ib">
                              <h5>NEIT <span class="chat_date">Dec 25</span></h5>
                              <p>We like InstaLocate application as it made our life easy.</p>
                            </div>
                          </div>
                        </div>
                        <div class="chat_list">
                          <div class="chat_people">
                            <div class="chat_img"> <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> </div>
                            <div class="chat_ib">
                              <h5>Sunil Rajput <span class="chat_date">Dec 25</span></h5>
                              <p>Test, which is a new approach to have all solutions 
                                astrology under one roof.</p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="mesgs">
                      <div class="msg_history">
                        <div class="incoming_msg">
                          <div class="incoming_msg_img"> <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> </div>
                          <div class="received_msg">
                            <div class="received_withd_msg">
                              <p>InstaLocate is the best application</p>
                              <span class="time_date"> 11:01 AM    |    May 1</span></div>
                          </div>
                        </div>
                        <div class="outgoing_msg">
                          <div class="sent_msg">
                            <p>Thanks for the appreciation!</p>
                            <span class="time_date"> 11:01 AM    |    May 1</span> </div>
                        </div>
                        <div class="incoming_msg">
                          <div class="incoming_msg_img"> <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> </div>
                          <div class="received_msg">
                            <div class="received_withd_msg">
                              <p>How can we use this application for our store?</p>
                              <span class="time_date"> 11:01 AM    |    Yesterday</span></div>
                          </div>
                        </div>
                        <div class="outgoing_msg">
                          <div class="sent_msg">
                            <p>We work directly with our designers and suppliers,
                                and sell direct to you, which means quality, exclusive
                                products, at a price anyone can afford.</p>
                            <span class="time_date"> 11:01 AM    |    Today</span> </div>
                        </div>
                        <div class="incoming_msg">
                          <div class="incoming_msg_img"> <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> </div>
                          <div class="received_msg">
                            <div class="received_withd_msg">
                              <p>Please follow this link <a href= "nikithaameda.github.io/TheStore">InstaLocate link</a> to learn more</p>
                              <span class="time_date"> 11:01 AM    |    Today</span></div>
                          </div>
                        </div>
                      </div>
                      <div class="type_msg">
                        <div class="input_msg_write">
                          <input type="text" class="write_msg" placeholder="Type a message" />
                          <button class="msg_send_btn" type="button"><i class="fa fa-paper-plane-o" aria-hidden="true"></i></button>
                        </div>
                      </div>
                    </div>
                  </div>
        </div>
        
</div>

<script>
            // Get the modal
            var modal = document.getElementById('myModal');

            // Get the button that opens the modal
            var btn = document.getElementById("myBtn");

            // Get the <span> element that closes the modal
            var span = document.getElementsByClassName("close")[0];

            // When the user clicks the button, open the modal
            btn.onclick = function() {
                document.getElementById("code").value = '';
                document.getElementById("form").style.display = "block";
                document.getElementById("settings-div").style.display = "none";
                document.getElementById("error").style.display = "none";
                modal.style.display = "block";
            }

            // When the user clicks on <span> (x), close the modal
            span.onclick = function() {
                modal.style.display = "none";
            }

            // When the user clicks anywhere outside of the modal, close it
            window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }

            function submitCode() {
                var code = document.getElementById("code").value;
                if (code == 1888) {
                    document.getElementById("form").style.display = "none";
                    document.getElementById("settings-div").style.display = "block";
                } else {
                    document.getElementById("error").style.display = "block";
                }
            }
            // Create new wheel object specifying the parameters at creation time.
            var theWheel = new Winwheel({
                'numSegments'  : 10,     // Specify number of segments.
                'outerRadius'  : 250,   // Set outer radius so wheel fits inside the background.
                'textFontSize' : 28,    // Set font size as desired.
                'segments'     :        // Define segments including colour and text.
                [
                   {'fillStyle' : '#f88', 'text' : 'Prize 1'},
                   {'fillStyle' : '#89f26e', 'text' : 'Prize 2'},
                   {'fillStyle' : '#7de6ef', 'text' : 'Prize 3'},
                   {'fillStyle' : '#34a8a8', 'text' : 'Prize 4'},
                   {'fillStyle' : '#fbc', 'text' : 'Prize 5'},
                   {'fillStyle' : '#f88', 'text' : 'Prize 6'},
                   {'fillStyle' : '#89f26e', 'text' : 'Prize 7'},
                   {'fillStyle' : '#7de6ef', 'text' : 'Prize 8'},
                   {'fillStyle' : '#34a8a8', 'text' : 'Prize 9'},
                   {'fillStyle' : '#fbc', 'text' : 'Prize 10'}
                ],
                'animation' :           // Specify the animation to use.
                {
                    'type'     : 'spinToStop',
                    'duration' : 8,     // Duration in seconds.
                    'spins'    : 8,     // Number of complete spins.
                    //'callbackSound' : playSound,    // Specify function to call when sound is to be triggered
                    'callbackFinished' : stopSound
                }
            });


            var audio = new Audio('wheel.mp3');
            var congratsAudio = new Audio('congratulations.mp3');
            function playSound()
            {
                 // Create audio object and load desired file.
                // Stop and rewind the sound (stops it if already playing).
                audio.pause();
                audio.currentTime = 0;

                // Play the sound.
                audio.play();
            }

            // Called when the animation has finished.
            function stopSound()
            {
                // Stop and rewind the sound (stops it if still playing).
                audio.pause();
                audio.currentTime = 0;

                // Stop and rewind the sound (stops it if already playing).
                congratsAudio.pause();
                congratsAudio.currentTime = 0;

                // Play the sound.
                congratsAudio.play();
            }

            var wheelSpinning = false;
            var spinCount = 0;

            // -------------------------------------------------------
            // Click handler for spin button.
            // -------------------------------------------------------
            function startSpin()
            {
                // Ensure that spinning can't be clicked again while already running.
                if (wheelSpinning == false)
                {
                    playSound();
                    spinCount++;

                    // This formula always makes the wheel stop somewhere inside prize 3 at least
                    // 1 degree away from the start and end edges of the segment.
                    var randomNumer = Math.floor(Math.random() * 100) + 1;
                    var stopAt;
                    //console.log("randomNumber:" + randomNumer);
                    /*if (document.querySelector('input[name=prize1]:checked').value === "ON" && spinCount == 25) {
                        stopAt = 17; // prize 1
                    } else if (document.querySelector('input[name=prize2]:checked').value === "ON" && spinCount == 25) {
                        stopAt = 53; // prize 2
                    } else if (document.querySelector('input[name=prize3]:checked').value === "ON" && spinCount == 25) {
                        stopAt = 89; // prize 3
                    } else if (document.querySelector('input[name=prize4]:checked').value === "ON" && spinCount == 25) {
                        stopAt = 125; // prize 4
                    } else if (document.querySelector('input[name=prize5]:checked').value === "ON" && spinCount == 25) {
                        stopAt = 161; // prize 5
                    } else if (document.querySelector('input[name=prize6]:checked').value === "ON" && spinCount == 25) {
                        stopAt = 197; // prize 6
                    } else if (document.querySelector('input[name=prize7]:checked').value === "ON" && spinCount == 25) {
                        stopAt = 233; // prize 7
                    } else if (document.querySelector('input[name=prize8]:checked').value === "ON" && spinCount == 25) {
                        stopAt = 269; // prize 8
                    } else if (document.querySelector('input[name=prize9]:checked').value === "ON" && (spinCount == 5 ||
                        spinCount == 10)) {
                        stopAt = 305; // prize 9
                    } else {
                        stopAt = 341; // prize 10
                    }*/
                    if (randomNumer < 3) {
                        stopAt = (326 + Math.floor((Math.random() * 34))); // Rs. 1000
                    } else if (randomNumer == 3 || randomNumer == 4) {
                        stopAt = (290 + Math.floor((Math.random() * 34))); // Rs 500
                    } else if (randomNumer == 5 || randomNumer == 6) {
                        stopAt = (254 + Math.floor((Math.random() * 34))); // Rs 250
                    } else if (randomNumer > 6 && randomNumer < 15) {
                        stopAt = (218 + Math.floor((Math.random() * 34))); // Rs 100
                    } else if (randomNumer >= 15 && randomNumer < 30) {
                        stopAt = (182 + Math.floor((Math.random() * 34))); // Rs 90
                    } else if (randomNumer >= 30 && randomNumer < 50) {
                        stopAt = (146 + Math.floor((Math.random() * 34))); // Rs 80
                    } else if (randomNumer >= 50 && randomNumer < 70) {
                        stopAt = (110 + Math.floor((Math.random() * 34))); //Rs 70
                    } else if (randomNumer >= 70 && randomNumer < 80) {
                        stopAt = (74 + Math.floor((Math.random() * 34))); // Rs 60
                    } else if (randomNumer >= 80 && randomNumer < 90) {
                        stopAt = (40 + Math.floor((Math.random() * 34))); //Rs 50
                    } else {
                        stopAt = Math.floor((Math.random() * 34)); //Rs 40
                    }
                    //var stopAt = (91 + Math.floor((Math.random() * 43)));

                    // Important thing is to set the stopAngle of the animation before stating the spin.
                    theWheel.animation.stopAngle = stopAt;

                    // Disable the spin button so can't click again while wheel is spinning.
                    document.getElementById('spin_button').src       = "spin_off.png";
                    document.getElementById('spin_button').className = "";

                    // Begin the spin animation by calling startAnimation on the wheel object.
                    theWheel.startAnimation();

                    // Set to true so that power can't be changed and spin button re-enabled during
                    // the current animation. The user will have to reset before spinning again.
                    wheelSpinning = true;
                }
            }

            // -------------------------------------------------------
            // Function for reset button.
            // -------------------------------------------------------
            function resetWheel()
            {
                // Stop and rewind the sound (stops it if still playing).
                audio.pause();
                audio.currentTime = 0;

                // Stop and rewind the sound (stops it if already playing).
                congratsAudio.pause();
                congratsAudio.currentTime = 0;

                theWheel.stopAnimation(false);  // Stop the animation, false as param so does not call callback function.
                theWheel.rotationAngle = 0;     // Re-set the wheel angle to 0 degrees.
                theWheel.draw();                // Call draw to render changes to the wheel.


                wheelSpinning = false;          // Reset to false to power buttons and spin can be clicked again.
                // Light up the spin button by changing it's source image and adding a clickable class to it.
                document.getElementById('spin_button').src = "spin_on.png";
                document.getElementById('spin_button').className = "clickable";
            }
        </script>
</body>
</html>